<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <changeSet id="add_setting" author="cyberdyne_systems">
        <sql dbms="postgresql">
        INSERT INTO public.setting (key, value)
        SELECT 'scheduling.notification.start.report.reminder', '1.03'
        WHERE NOT EXISTS (SELECT 1 FROM public.setting WHERE key = 'scheduling.notification.start.report.reminder');

        INSERT INTO public.setting (key, value)
        SELECT 'scheduling.notification.finish.report.reminder', '1.11'
        WHERE NOT EXISTS (SELECT 1 FROM public.setting WHERE key = 'scheduling.notification.finish.report.reminder');

        INSERT INTO public.setting (key, value)
        SELECT 'scheduling.general.lock.edit.report.offset.month', '2'
        WHERE NOT EXISTS (SELECT 1 FROM public.setting WHERE key = 'scheduling.general.lock.edit.report.offset.month');

        INSERT INTO public.setting (key, value)
        SELECT 'scheduling.general.remove.unauthorized.user.offset.days', '20'
        WHERE NOT EXISTS (SELECT 1 FROM public.setting WHERE key = 'scheduling.general.remove.unauthorized.user.offset.days');

        INSERT INTO public.setting (key, value)
        SELECT 'scheduling.notification.exclude.employee.chat.ids', '666582175,831351389'
        WHERE NOT EXISTS (SELECT 1 FROM public.setting WHERE key = 'scheduling.notification.exclude.employee.chat.ids');
        </sql>
    </changeSet>

    <changeSet id="create_category_i18n_keys" author="cyberdyne_systems">
        <sql dbms="postgresql">
        INSERT INTO public.category (name_key, description_key)
        SELECT 'common.category.on.storage', 'common.category.on.storage.description'
        WHERE NOT EXISTS (SELECT 1 FROM public.category WHERE name_key = 'common.category.on.storage');

        INSERT INTO public.category (name_key, description_key)
        SELECT 'common.category.on.order', 'common.category.on.order.description'
        WHERE NOT EXISTS (SELECT 1 FROM public.category WHERE name_key = 'common.category.on.order');

        INSERT INTO public.category (name_key, description_key)
        SELECT 'common.category.on.office', 'common.category.on.office.description'
        WHERE NOT EXISTS (SELECT 1 FROM public.category WHERE name_key = 'common.category.on.office');

        INSERT INTO public.category (name_key, description_key)
        SELECT 'common.category.on.coordination', 'common.category.on.coordination.description'
        WHERE NOT EXISTS (SELECT 1 FROM public.category WHERE name_key = 'common.category.on.coordination');
        </sql>
    </changeSet>

</databaseChangeLog>